{
  "rules": {
    "users": {
      ".read": "auth != null",
      "$uid": {
        ".write": "auth != null && auth.uid === $uid"
      }
    },
    "messages": {
      "$uid": {
        ".read": "auth != null && auth.uid === $uid",
        "$msgId": {
          ".write": "auth != null && (auth.uid === $uid || newData.child('senderUid').val() === auth.uid)"
        }
      }
    },
    "messages_sent": {
      "$uid": {
        ".read": "auth != null && auth.uid === $uid",
        "$msgId": {
          ".write": "auth != null && newData.child('senderUid').val() === $uid && newData.child('recipientUid').isString()",
          ".validate": "newData.hasChildren(['recipientUid','senderUid','subject','text','createdAt']) && newData.child('senderUid').isString() && newData.child('senderUid').val() === $uid && newData.child('createdAt').isNumber()"
        }
      }
    },
    "bookings": {
      "$uid": {
        ".read": "auth != null && auth.uid === $uid",
        ".write": "auth != null && auth.uid === $uid"
      }
    },
    "opslag": {
      ".read": "auth != null",
      ".write": "auth != null",
      "$opslagId": {
        ".write": "auth != null && newData.child('senderUid').val() === auth.uid",
        ".validate": "newData.hasChildren(['title','text','senderUid','senderName','createdAt']) && newData.child('title').isString() && newData.child('title').val().length > 0 && newData.child('text').isString() && newData.child('text').val().length > 0 && newData.child('senderUid').isString() && newData.child('senderUid').val() === auth.uid && newData.child('senderName').isString() && newData.child('createdAt').isNumber() && (!newData.child('important').exists() || newData.child('important').val() === true || newData.child('important').val() === false)"
      }
    },
    ".read": false,
    ".write": false
  }
}
